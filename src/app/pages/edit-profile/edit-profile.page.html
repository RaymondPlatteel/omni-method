<ion-content class="ion-padding" color="default">
  <ion-header class="ion-no-border"> </ion-header>
  <ion-fab vertical="top" horizontal="end" slot="fixed">
    <ion-button
      (click)="cancel()"
      routerDirection="back"
      type="button"
      size="small"
      shape="circle"
      color="primary"
    >
      <ion-icon name="close"></ion-icon>
    </ion-button>
  </ion-fab>
  <div class="ion-text-center">
    <ion-card-title class="center" color="dark">Edit Profile</ion-card-title>
  </div>


  <ion-list *ngIf="user$ | async as user; else loading ">
    <div class="avatar" (click)="openModal('avatar')">
      <user-avatar [user]="user" class="avatar"></user-avatar>
    </div>
  
    <ion-item button (click)="openModal('name')">
      <ion-label>Name</ion-label>
      <ion-text slot="end">{{user.firstName}}&nbsp;{{user.lastName}}</ion-text>
    </ion-item>
    <ion-item button (click)="openModal('username')">
      <ion-label>Userame</ion-label>
      <ion-text slot="end">{{user.username}}</ion-text>
    </ion-item>
    <ion-item button (click)="openModal('dob')">
      <ion-label>Age</ion-label>
      <ion-text slot="end">{{userService.getAge(user)}}</ion-text>
    </ion-item>
    <ion-item button (click)="openModal('sex')">
      <ion-label>Gender</ion-label>
      <ion-text slot="end">{{user.gender}}</ion-text>
    </ion-item>
    <ion-item button (click)="openPicker('weight')">
      <ion-label>Weight</ion-label>
      <ion-text slot="end">{{user.weight}}</ion-text>
    </ion-item>
    <ion-item button (click)="openPicker('height')">
      <ion-label>Height</ion-label>
      <ion-text slot="end">{{user.height.feet}}' {{user.height.inches}}"</ion-text>
    </ion-item>
    <ion-list-header class="section_header">Account</ion-list-header>
    <ion-item>
      <ion-label>Email</ion-label>
      <ion-text slot="end">{{user.email}}</ion-text>
    </ion-item>
    <ion-item button>
      <ion-label>Change Password</ion-label>
      <ion-text slot="end">******</ion-text>
    </ion-item>
    <ion-item button (click)="deleteAccount()">
      <ion-label>Delete Account</ion-label>
      <ion-text slot="end"></ion-text>
    </ion-item>
    <ion-item button (click)="logout()">
      <ion-label color="danger">Log Out</ion-label>
    </ion-item>
  </ion-list>

  <ng-template #loading>
    <ion-spinner color="primary"></ion-spinner>
  </ng-template>

  <!-- <ion-alert
    trigger="delete-account"
    header="Delete Account"
    subHeader="This action cannot be undone."
    [buttons]="deleteAccountButtons"
    (didDismiss)="deleteAccountResult($event)">
  </ion-alert> -->

</ion-content>
