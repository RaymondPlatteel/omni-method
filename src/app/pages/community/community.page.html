<ion-header class="ion-no-border">
  <ion-toolbar color="primary">
    <ion-title>Community</ion-title>
    <ion-button slot="end" (click)="openDiscord()">
      <!-- <ion-icon slot="icon-only" name="logo-discord"></ion-icon> -->
      <ion-img slot="icon-only" src="assets/icon/logo-discord.png"></ion-img>
    </ion-button>
  </ion-toolbar>
</ion-header>

<!-- <ion-fab slot="fixed" vertical="top" horizontal="end">
  <ion-fab-button>
    <ion-icon name="ellipsis-horizontal"></ion-icon>
  </ion-fab-button>
  <ion-fab-list side="bottom">
    <ion-fab-button (click)="userService.openEditProfile($event, userService.getUser())">
      <ion-icon name="settings-sharp"></ion-icon>
    </ion-fab-button>
    <ion-fab-button (click)="announcementService.openAnnouncements($event, userService.getUser())">
      <ion-icon name="megaphone"></ion-icon>
    </ion-fab-button>
  </ion-fab-list>
</ion-fab> -->

<ion-content [fullscreen]="false">
  <!-- <ion-header class="safe-area">
  </ion-header> -->
  <!-- (ionChange)="segmentChange($event)" -->
  <!-- <ion-segment value="rankings" [(ngModel)]="type" mode="md">
    <ion-segment-button value="home">
      <ion-icon name="home" size="large"></ion-icon>
    </ion-segment-button>
    <ion-segment-button value="rankings" aria-label="rankings">
      <ion-icon name="trophy" size="large"></ion-icon>
    </ion-segment-button>
    <ion-segment-button value="announcements" aria-label="announcements">
      <ion-icon name="megaphone" size="large"></ion-icon>
    </ion-segment-button>
    <ion-segment-button value="people">
      <ion-icon name="people" size="large"></ion-icon>
    </ion-segment-button>
  </ion-segment> -->
  <ng-container [ngSwitch]="type">
    <ion-list style="margin: 8px;" *ngSwitchCase="'rankings'">
      <!-- <ion-list-header>
        <ion-button class="setting-button">Male</ion-button>
        <ion-button class="setting-button">National</ion-button>
        <ion-button class="setting-button">Overall</ion-button>
      </ion-list-header> -->
      <ion-item class="rank-header" lines="full">
        <!-- <ion-text slot="start">&nbsp;</ion-text> -->
        <ion-text color="medium" slot="start">Ranking</ion-text>
        <ion-text color="medium" style="padding-left: 24px;">Username</ion-text>
        <ion-text color="medium" slot="end">Level</ion-text>
      </ion-item>
      <ion-item *ngFor="let athlete of ranking$ | async; let i = index"
        (click)="openDetails(athlete)" ngClass="{{highlightUser(athlete)}}"
        color="{{highlightUser(athlete)}}"
        lines="full">
        <ion-text class="rank" slot="start">{{i+1}}</ion-text>
        <ion-avatar slot="start">
          <img *ngIf="athlete.avatar" src="{{athlete.avatar}}">
          <img *ngIf="!athlete.avatar" src="/assets/images/icons/NoProfilePic.png">
          <!-- <ion-icon *ngIf="!athlete.avatar" name="person-outline"></ion-icon> -->
        </ion-avatar>
        <ion-text *ngIf="athlete.username">&#64;{{athlete.username}}</ion-text>
        <ion-text *ngIf="!athlete.username">{{athlete.firstName}} {{athlete.lastName}}</ion-text>
        <ion-text class="score" slot="end">{{userLevel(athlete) | number}}</ion-text>
      </ion-item>
    </ion-list>
    <!-- <ion-list *ngSwitchCase="'announcements'">
      <ion-card *ngFor="let video of announcements">
        <ion-card-header>
          <ion-card-title>{{video.title}}</ion-card-title>
          <ion-card-subtitle>{{video.subtitle}}</ion-card-subtitle>
        </ion-card-header>
        <ion-card-content>
          <video *ngIf="video.thumbnail?.startsWith('http')" class="video-content"
            controlsList="nodownload" playsinline controls preload="auto"
            poster="{{video.thumbnail}}" src="{{video.url}}">
            Your device does not support the video tag.
          </video>
          <ion-text>{{video.description}}</ion-text>
        </ion-card-content>
      </ion-card>
    </ion-list> -->
    <ion-list *ngSwitchCase="'people'">
      <ion-item>
        <ion-grid class="ion-text-center">
          <ion-row>
            <ion-col>
              <ion-label>130</ion-label>
              <ion-label>Friends</ion-label>
            </ion-col>
            <ion-col>
              <ion-label>15</ion-label>
              <ion-label>Followers</ion-label>
            </ion-col>
            <ion-col>
              <ion-label>54</ion-label>
              <ion-label>Folowing</ion-label>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
      <!-- <ion-card>
        <ion-card-header>
          <ion-card-title></ion-card-title>
          <ion-card-subtitle>People</ion-card-subtitle>
        </ion-card-header>
        <ion-card-content>coming soon</ion-card-content>
      </ion-card> -->
    </ion-list>
  </ng-container>
</ion-content>
